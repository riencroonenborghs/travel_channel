// Generated by CoffeeScript 1.9.3
(function() {
  var app;

  app = angular.module("travelChannel.controllers", []);

  app.controller("appController", [
    "$scope", "NavbarFactory", function($scope, NavbarFactory) {
      $scope.Navbar = new NavbarFactory;
      $scope.Navbar.addTitle("TravelChannel");
      return $scope.search = {
        query: ""
      };
    }
  ]);

  app.controller("ProgramsController", [
    "$scope", "$location", "TravelChannel", function($scope, $location, TravelChannel) {
      $scope.Navbar.reset();
      $scope.Navbar.addTitle("TravelChannel");
      $scope.loading = true;
      $scope.programs = [];
      TravelChannel.programs().then(function(programs) {
        $scope.loading = false;
        return $scope.programs = programs;
      });
      return $scope.episodes = function(program) {
        return $location.path("/episodes/" + program.name + "/" + program.url);
      };
    }
  ]);

  app.controller("EpisodesController", [
    "$scope", "$location", "$routeParams", "TravelChannel", "NavbarFactory", function($scope, $location, $routeParams, TravelChannel, NavbarFactory) {
      var name, url;
      name = $routeParams.name;
      $scope.Navbar.reset();
      $scope.Navbar.addLink("/programs");
      $scope.Navbar.addTitle(name);
      url = $routeParams.url;
      $scope.loading = true;
      $scope.episodes = [];
      return TravelChannel.episodes(url).then(function(episodes) {
        $scope.loading = false;
        return $scope.episodes = episodes;
      });
    }
  ]);

}).call(this);
